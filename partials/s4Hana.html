<div ng-controller="s4Controller">
<ul class="sub-nav  col-xs-12">
		<li ng-class="selected == 'busFunctions'?'active':''" ng-click="selected = 'busFunctions'" ><a >Business Functions</a></li>
		<li ng-class="selected == 'readycheck'?'active':''" ng-click="selected = 'readycheck'" ><a >Readiness Check</a></li>
				
	
</ul>

<div class="view-wrapper col-xs-12 s4-container" >
	<div class="totals-container col-xs-12">
		<div class="totals-box col-xs-2 status-blue">
			<p class="totals-numeric" ng-bind="countSummary[0]['TOTAL']"></p>
			<p class="totals-text">Total</p>
		</div>
		<div class="totals-box col-xs-2 status-green">
			<p class="totals-numeric" ng-bind="countSummary[0]['SUPPORTED']"></p>
			<p class="totals-text">Supported</p>
		</div>
		<div class="totals-box col-xs-2 status-red">
			<p class="totals-numeric" ng-bind="countSummary[0]['NOT-SUPPORTED']"></p>
			<p class="totals-text">Not Supported</p>
		</div>
	</div>
	<div class="s4-graph-container col-xs-12">
		<div class="col-xs-6 s4-graph-box ia-chart-column padding-top-10" ng-controller="chartController" ng-init="chart.view='pieChart'">
			<div class="pull-left col-xs-9">&nbsp;</div>
			<div class="pull-right col-xs-3 switch-block-container no-padding"> 
				<a class="switch-block col-xs-6 border-right text-center" href="javascript:void(0)" ng-click="chart.view='pieChart'" ng-class="chart.view=='pieChart'?'active':''" title="Pie">
					<span class="fa-lg fa fa-pie-chart fa-lg"></span>
				</a>
				<a class="switch-block col-xs-6 text-center" ng-class="chart.view=='table'?'active':''" href="javascript:void(0)" ng-click="chart.view='table'" title="Tabular">
					<span class="fa fa-table fa-lg"></span>
				</a>
			</div>
			<div class="center-section">
				
				<nvd3 ng-if="chart.view=='pieChart'" options="options" data="uniqueBFuncCompType"></nvd3>
				<div class="tabular-data" ng-if="chart.view=='table'">
					<table>
						<thead >
							<tr class="border-bottom">
								<td class="col-xs-2 border-right">S.No.</td>
								<td class="col-xs-6 border-right">Component Type</td>
								<td class="col-xs-4 border-right">Count</td>
							</tr>
						</thead>
						
						<tbody>
							<tr class="" ng-repeat="item in uniqueBFuncCompType">
								<td class="col-xs-2 border-right">{{$index+1}}</td>
								<td class="col-xs-6 border-right">{{item.key}}</td>
								<td class="col-xs-4 border-right">{{item.y}}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<div class="col-xs-6 s4-graph-box ia-chart-column padding-top-10" ng-controller="chartController" ng-init="chart.view='pieChart'">
			<div class="pull-left col-xs-9">&nbsp;</div>
			<div class="pull-right col-xs-3 switch-block-container no-padding"> 
				<a class="switch-block col-xs-6 border-right text-center" href="javascript:void(0)" ng-click="chart.view='pieChart'" ng-class="chart.view=='pieChart'?'active':''" title="Pie">
					<span class="fa-lg fa fa-pie-chart fa-lg"></span>
				</a>
				<a class="switch-block col-xs-6 text-center" ng-class="chart.view=='table'?'active':''" href="javascript:void(0)" ng-click="chart.view='table'" title="Tabular">
					<span class="fa fa-table fa-lg"></span>
				</a>
			</div>
			<div class="center-section">
				
				<nvd3 ng-if="chart.view=='pieChart'" options="options" data="uniqueBFuncCateg"></nvd3>
				<div class="tabular-data" ng-if="chart.view=='table'">
					<table>
						<thead >
							<tr class="border-bottom">
								<td class="col-xs-2 border-right">S.No.</td>
								<td class="col-xs-6 border-right">Category</td>
								<td class="col-xs-4 border-right">Count</td>
							</tr>
						</thead>
						
						<tbody>
							<tr class="" ng-repeat="item in uniqueBFuncCateg">
								<td class="col-xs-2 border-right">{{$index+1}}</td>
								<td class="col-xs-6 border-right">{{item.key}}</td>
								<td class="col-xs-4 border-right">{{item.y}}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<!--<div class="s4-graph-box col-xs-6">
			<nvd3 options="options" data="uniqueBFuncCompType"></nvd3>
		</div>-->
		<!--<div class="s4-graph-box col-xs-6">
			<nvd3 options="options" data="uniqueBFuncCateg"></nvd3>
		</div>-->
	</div>
	<div class="table-container col-xs-12 no-padding ">
		<div class="col-xs-3 pull-right table-toggler text-right">
			<a class="btn btn-primary" ng-click="toggleTableData()">Show/Hide Total Data</a>
		</div>
		<div class="col-xs-12 no-border" ng-if="showTable">
			<p>Table data</p>
			<div class="center-section">
				<table class="col-xs-12" ng-init="$parent.orderByField = 'COMPONENT'">
					<thead>
						<tr class="border-bottom">
							<td ng-repeat="(key,value) in tabularData[0]" ng-click="sortFunction(key)">
								<span ng-bind="key"></span>
								<span ng-show="$parent.orderByField == '{{key}}'">
									<span ng-show="!$parent.reverseSort">^</span>
									<span ng-show="$parent.reverseSort">v</span>
								</span>
							</td>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="row in tabularData|orderBy:orderByField:reverseSort">
							<td ng-repeat="(key,value) in row" class="border-right" ng-bind="value"></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	
	</div>
</div>